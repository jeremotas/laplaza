[gd_scene load_steps=46 format=3 uid="uid://ntsr3jgmnno3"]

[ext_resource type="Script" uid="uid://db6xuu7vrxoo4" path="res://scenes/patricios/carpincho.gd" id="1_df1n8"]
[ext_resource type="Texture2D" uid="uid://bxsyphj5854m5" path="res://assets/created/carpincho.png" id="2_bqhqp"]
[ext_resource type="AudioStream" uid="uid://cpdwcp3wmrrpe" path="res://assets/original/sounds/carpinchos_walk_muchos.mp3" id="3_yfdv1"]

[sub_resource type="AtlasTexture" id="AtlasTexture_kjssg"]
atlas = ExtResource("2_bqhqp")
region = Rect2(0, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_un0eo"]
atlas = ExtResource("2_bqhqp")
region = Rect2(0, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_047hj"]
atlas = ExtResource("2_bqhqp")
region = Rect2(32, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_sixib"]
atlas = ExtResource("2_bqhqp")
region = Rect2(64, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_k3hdo"]
atlas = ExtResource("2_bqhqp")
region = Rect2(96, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_vqehx"]
atlas = ExtResource("2_bqhqp")
region = Rect2(128, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_sewp8"]
atlas = ExtResource("2_bqhqp")
region = Rect2(160, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_nryb5"]
atlas = ExtResource("2_bqhqp")
region = Rect2(0, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_ubiga"]
atlas = ExtResource("2_bqhqp")
region = Rect2(32, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_eb32t"]
atlas = ExtResource("2_bqhqp")
region = Rect2(64, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_8plhn"]
atlas = ExtResource("2_bqhqp")
region = Rect2(96, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_pwaxp"]
atlas = ExtResource("2_bqhqp")
region = Rect2(128, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_wcx2e"]
atlas = ExtResource("2_bqhqp")
region = Rect2(160, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_uulmy"]
atlas = ExtResource("2_bqhqp")
region = Rect2(0, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_y0woe"]
atlas = ExtResource("2_bqhqp")
region = Rect2(32, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_8fl2g"]
atlas = ExtResource("2_bqhqp")
region = Rect2(64, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_2hij2"]
atlas = ExtResource("2_bqhqp")
region = Rect2(96, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_ykhjx"]
atlas = ExtResource("2_bqhqp")
region = Rect2(128, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_4q8u6"]
atlas = ExtResource("2_bqhqp")
region = Rect2(160, 0, 32, 32)

[sub_resource type="SpriteFrames" id="SpriteFrames_torbl"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_kjssg")
}],
"loop": true,
"name": &"die",
"speed": 6.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_un0eo")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_047hj")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_sixib")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_k3hdo")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vqehx")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_sewp8")
}],
"loop": true,
"name": &"hurt",
"speed": 24.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_nryb5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ubiga")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_eb32t")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_8plhn")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_pwaxp")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wcx2e")
}],
"loop": true,
"name": &"idle",
"speed": 24.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_uulmy")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_y0woe")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_8fl2g")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_2hij2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ykhjx")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4q8u6")
}],
"loop": true,
"name": &"walk",
"speed": 24.0
}]

[sub_resource type="Animation" id="Animation_7p4so"]
length = 0.166667
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimatedSprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [0]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("AnimatedSprite2D:animation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": ["die"]
}

[sub_resource type="Animation" id="Animation_wie57"]
length = 0.25
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimatedSprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.0416667, 0.0833333, 0.125, 0.166667, 0.208333),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 5]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("AnimatedSprite2D:animation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": ["hurt"]
}

[sub_resource type="Animation" id="Animation_ooawy"]
length = 0.25
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimatedSprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.0416667, 0.0833333, 0.125, 0.166667, 0.208333),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 5]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("AnimatedSprite2D:animation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": ["idle"]
}

[sub_resource type="Animation" id="Animation_hsx6x"]
length = 0.25
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimatedSprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.0416667, 0.0833333, 0.125, 0.166667, 0.208333),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 5]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("AnimatedSprite2D:animation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": ["walk"]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_w211s"]
_data = {
&"die": SubResource("Animation_7p4so"),
&"hurt": SubResource("Animation_wie57"),
&"idle": SubResource("Animation_ooawy"),
&"walk": SubResource("Animation_hsx6x")
}

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_7w0me"]
animation = &"die"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_dqfps"]
animation = &"hurt"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_s8hlw"]
animation = &"idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_63s3y"]
animation = &"shoot"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_01bom"]
animation = &"walk"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_gc4nl"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_4wu01"]
advance_mode = 2
advance_condition = &"walking"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_5fi4q"]
advance_mode = 2
advance_condition = &"idle"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_r7nas"]
advance_mode = 2
advance_condition = &"got_hurt"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_lq86a"]
advance_mode = 2
advance_condition = &"die"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_01o7k"]
advance_mode = 2
advance_condition = &"shooting"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_h2a58"]
advance_mode = 2
advance_condition = &"idle"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_m6io4"]
advance_mode = 2
advance_condition = &"die"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_7xolf"]
advance_mode = 2
advance_condition = &"idle"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_oaabk"]
advance_mode = 2
advance_condition = &"die"

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_an7r0"]
states/Start/position = Vector2(218.667, 72.2222)
states/die/node = SubResource("AnimationNodeAnimation_7w0me")
states/die/position = Vector2(530.667, 214.148)
states/hurt/node = SubResource("AnimationNodeAnimation_dqfps")
states/hurt/position = Vector2(390.667, 220.666)
states/idle/node = SubResource("AnimationNodeAnimation_s8hlw")
states/idle/position = Vector2(373.333, 72.02)
states/shoot/node = SubResource("AnimationNodeAnimation_63s3y")
states/shoot/position = Vector2(184, 200.612)
states/walk/node = SubResource("AnimationNodeAnimation_01bom")
states/walk/position = Vector2(519.334, 72.3216)
transitions = ["Start", "idle", SubResource("AnimationNodeStateMachineTransition_gc4nl"), "idle", "walk", SubResource("AnimationNodeStateMachineTransition_4wu01"), "walk", "idle", SubResource("AnimationNodeStateMachineTransition_5fi4q"), "idle", "hurt", SubResource("AnimationNodeStateMachineTransition_r7nas"), "idle", "die", SubResource("AnimationNodeStateMachineTransition_lq86a"), "idle", "shoot", SubResource("AnimationNodeStateMachineTransition_01o7k"), "shoot", "idle", SubResource("AnimationNodeStateMachineTransition_h2a58"), "hurt", "die", SubResource("AnimationNodeStateMachineTransition_m6io4"), "hurt", "idle", SubResource("AnimationNodeStateMachineTransition_7xolf"), "walk", "die", SubResource("AnimationNodeStateMachineTransition_oaabk")]
graph_offset = Vector2(0, 29.6855)

[sub_resource type="CircleShape2D" id="CircleShape2D_n0ai0"]
radius = 115.07

[node name="Carpincho" type="CharacterBody2D"]
scale = Vector2(0.5, 0.5)
collision_layer = 0
collision_mask = 0
script = ExtResource("1_df1n8")

[node name="ComLabel" type="Label" parent="."]
visible = false
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_top = -23.0
offset_right = 40.0
grow_vertical = 0
scale = Vector2(1.01485, 0.970381)

[node name="LifeLabel" type="Label" parent="."]
visible = false
offset_top = -23.0
offset_right = 40.0

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
sprite_frames = SubResource("SpriteFrames_torbl")
animation = &"idle"

[node name="AnimationTree" type="AnimationTree" parent="."]
libraries = {
"": SubResource("AnimationLibrary_w211s")
}
tree_root = SubResource("AnimationNodeStateMachine_an7r0")
anim_player = NodePath("../AnimationPlayer")
parameters/conditions/die = false
parameters/conditions/got_hurt = false
parameters/conditions/idle = false
parameters/conditions/shooting = false
parameters/conditions/walking = false

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="."]
position = Vector2(-1.00781, 2.09375)
scale = Vector2(0.507812, 0.46875)
polygon = PackedVector2Array(-13.7692, 16.8667, -13.7692, 29.6667, 13.8, 25.4, 5.92308, 12.6)

[node name="CombatArea" type="Area2D" parent="."]
visible = false
collision_layer = 0
collision_mask = 2

[node name="CombatCollisionShape" type="CollisionShape2D" parent="CombatArea"]
light_mask = 9
visibility_layer = 9
shape = SubResource("CircleShape2D_n0ai0")

[node name="WeaponPoint" type="Marker2D" parent="."]
position = Vector2(14, 0)

[node name="WalkSound" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("3_yfdv1")
bus = &"Efectos"

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_w211s")
}

[node name="Timer" type="Timer" parent="."]
wait_time = 15.0
one_shot = true
autostart = true

[connection signal="timeout" from="Timer" to="." method="_on_timer_timeout"]
